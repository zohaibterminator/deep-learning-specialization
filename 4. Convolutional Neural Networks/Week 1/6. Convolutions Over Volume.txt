Now, let's see how you can implement convolutions over, not just 2D images, but over three dimensional volumes.

Lets say you want to extract features from a RGB image, of size 6x6. So, the shape of the image would be 6x6x3. To convolve it with a filter, a filter should also have 3 channels, so the filter's size would be 3x3x3, to match the 3 channels in the image. When you perform the convolution operation, you will place the filter on all 3 channels, so each channel of the filter will be on the corresponding channel of the image. Then we will perform element-wise multiplication, as in any other convolution operation, then add all the the resultant 27 values of the convolution operation. The resultant matrix will be of 4x4 shape (can be cross-checked with the formula), a 2D output.

Now, we have looked at vertical edge detectors and horizontal edge detectors. What if we want to use multiple edge detectors or filters to detect different edges at different angles, that may not neccessarily be horizontal or vertical? The answer is yes, we can do that. After each convolution operation of the images and the different filters, we will just stack the matrices on top of each other. So, if we were to use 2 different 3x3x3 filters, one for vertical edge detection and the other one for horizontal edge detection, to convolve with our 6x6x3 image, we will just stack the resultant matrices, and our final output would be 4x4x2.